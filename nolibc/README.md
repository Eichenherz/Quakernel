The code here is taken from https://github.com/embeddedartistry/libc
I have removed anything that's not "bare-metal".